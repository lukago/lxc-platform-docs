@Override
protected void configure(HttpSecurity http) throws Exception {
  // No session will be created or used by spring security
  http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);

  // https
  http.requiresChannel().anyRequest().requiresSecure();

  // Entry points
  http.csrf().disable().cors().and().authorizeRequests()
      .antMatchers("/api/auth/signin").permitAll()
      .antMatchers("/actuator/health").permitAll()
      .antMatchers("/api/**").authenticated();

  // Apply JWT
  http.apply(new JwtTokenFilterConfigurer(jwtTokenProvider));
}